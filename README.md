# WitChallenge2025

This Java Spring with Maven project is composed of 3 modules:
 - A common shared module
 - A Rest module, with open APIs, communicating with the Calculator module via Kafka
 - A Calculator module, consuming requests produced from the Rest module via Kafka.

## Building the module Docker images
Navigate to `WitChallenge\calculator` and run the following commands:
```
./mvnw clean package
docker build -t calc-app .
```
Navigate to `WitChallenge\rest` and run the following commands:
```
./mvnw clean package
docker build -t rest-app .
```
## Deploying the containers
Navigate to the `WitChallenge` directory and run:
```
docker compose up
```

This will create 4 containers (and a shared network):
 - A Zookeeper and Apache Kafka containers, for Kafka message distribution
 - A container for the calculator module Springboot instance
 - A container for the rest module Springboot instance

**Note**: Logs generated by the calculator and rest containers will be stored in the logs folder within the `WitChallenge` directory as a shared volume

Example requests:

***Addition:***

```http://localhost:8081/sum?a=-1.352345425&b=3.45435654```
```
{
    "result": 2.102011115
}
```

***Multiplication:***

```http://localhost:8081/mult?a=-1.352345425&b=3.45435654```
```
{
    "result": -4.67148326318782950
}
```

***Subtraction:***

```http://localhost:8081/sub?a=-1.352345425&b=3.45435654```
```
{
    "result": -4.806701965
}
```

***Division:***

```http://localhost:8081/div?a=-1.352345425&b=3.45435654```
```
{
    "result": -0.3914898214
}
```